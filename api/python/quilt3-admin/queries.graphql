fragment UnmanagedRoleSelection on UnmanagedRole {
  id
  name
  arn
}
fragment ManagedRoleSelection on ManagedRole {
  id
  name
  arn
}
fragment RoleSelection on Role {
  __typename
  ...UnmanagedRoleSelection
  ...ManagedRoleSelection
}
fragment UserSelection on User {
  name
  email
  dateJoined
  lastLogin
  isActive
  isAdmin
  isSsoOnly
  isService
  role {
    ...RoleSelection
  }
  extraRoles {
    ...RoleSelection
  }
}
fragment UserMutationSelection on UserResult {
  ...UserSelection
  ...InvalidInputSelection
  ...OperationErrorSelection
}
fragment InvalidInputSelection on InvalidInput {
  errors {
    path
    message
    name
    context
  }
}
fragment OperationErrorSelection on OperationError {
  message
  name
  context
}

query getRoles {
  roles {
    ...RoleSelection
  }
}

query getUser($name: String!) {
  admin {
    user {
      get(name: $name) {
        ...UserSelection
      }
    }
  }
}

query getUsers {
  admin {
    user {
      list {
        ...UserSelection
      }
    }
  }
}

mutation createUser($input: UserInput!) {
  admin {
    user {
      create(input: $input) {
        ...UserMutationSelection
      }
    }
  }
}

mutation deleteUser($name: String!) {
  admin {
    user {
      mutate(name: $name) {
        delete {
          ...InvalidInputSelection
          ...OperationErrorSelection
        }
      }
    }
  }
}

mutation setUserEmail($email: String!, $name: String!) {
  admin {
    user {
      mutate(name: $name) {
        setEmail(email: $email) {
          ...UserMutationSelection
        }
      }
    }
  }
}

mutation setUserAdmin($name: String!, $admin: Boolean!) {
  admin {
    user {
      mutate(name: $name) {
        setAdmin(admin: $admin) {
          ...UserMutationSelection
        }
      }
    }
  }
}

mutation setUserActive($active: Boolean!, $name: String!) {
  admin {
    user {
      mutate(name: $name) {
        setActive(active: $active) {
          ...UserMutationSelection
        }
      }
    }
  }
}

mutation resetUserPassword($name: String!) {
  admin {
    user {
      mutate(name: $name) {
        resetPassword {
          ...InvalidInputSelection
          ...OperationErrorSelection
        }
      }
    }
  }
}

mutation setRole($name: String!, $role: String!, $extraRoles: [String!], $append: Boolean!) {
  admin {
    user {
      mutate(name: $name) {
        setRole(role: $role, extraRoles: $extraRoles, append: $append) {
          ...UserSelection
          ...InvalidInputSelection
          ...OperationErrorSelection
        }
      }
    }
  }
}

mutation addRoles($name: String!, $roles: [String!]!) {
  admin {
    user {
      mutate(name: $name) {
        addRoles(roles: $roles) {
          ...UserSelection
          ...InvalidInputSelection
          ...OperationErrorSelection
        }
      }
    }
  }
}

mutation removeRoles($name: String!, $roles: [String!]!, $fallback: String) {
  admin {
    user {
      mutate(name: $name) {
        removeRoles(roles: $roles, fallback: $fallback) {
          ...UserSelection
          ...InvalidInputSelection
          ...OperationErrorSelection
        }
      }
    }
  }
}
